# Sea Battle - Морской бой

## Описание
Многопользовательская игра "Морской бой" с P2P-соединением и системой специальных атак.

## Установка и запуск
* Требуется .NET 8.0+ и MAUI framework
* Открыть решение в Visual Studio 2022+
* Выбрать целевую платформу (Windows/Android/iOS)
* Запустить сборку и развертывание

## Игровой процесс

### Размещение кораблей
* 3 корабля: один 4-клеточный и два 3-клеточных
* Нажатие на клетку - размещение корабля
* Кнопка Rotate - поворот корабля
* Кнопка Ready - подтверждение готовности

### Основная игра
* Поочередные выстрелы по полю противника
* Красный цвет - попадание
* Белый цвет - промах
* Ход переходит после промаха

### Специальные атаки
* **Horizontal Line** - атака по горизонтальной линии (останавливается после первого попадания)
* **Vertical Line** - атака по вертикальной линии (останавливается после первого попадания)  
* **3x3 Area** - атака области 3x3 (обрабатывает все клетки)
* Каждая атака доступна один раз за игру

## Сетевое подключение

### Создание сервера
* Нажать "Start Server"
* Ожидать подключения противника

### Подключение к серверу
* Нажать "Search Servers"
* Выбрать сервер из списка
* Автоматическое подключение

## Протокол сообщений
* `SHOT:x:y` - выстрел
* `RESULT:x:y:HIT/MISS` - результат выстрела
* `READY` - готовность к игре
* `WIN` - победа
* `SPECIAL:type:x:y` - специальная атака
* `SPECIAL_RESULT:HIT/MISS` - результат атаки

## Классы и структуры

### GameEngine
* Управление игровой логикой
* Обработка выстрелов и атак
* Проверка условий победы

### MainPage  
* Пользовательский интерфейс
* Обработка кликов по полям
* Управление сетевым взаимодействием

### Состояния игры
* `ShipPlacement` - расстановка кораблей
* `PlayerTurn` - ход игрока
* `EnemyTurn` - ход противника
* `GameOver` - конец игры

### Состояния клеток
* `Empty` - пустая
* `Ship` - корабль
* `Hit` - попадание (красный)
* `Miss` - промах (белый)

## Особенности
* P2P-архитектура без центрального сервера
* Автоматическое обнаружение серверов в сети
* Синхронизация состояния между игроками
* Обработка разрывов соединения
